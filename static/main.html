<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <title>GoBkm</title>
  <meta name="description" content="A minimalist folder-based bookmark manager">
  <meta name="author" content="Thomas Bellembois">

  <script>
    var GoBkmProxyURL="{{.GoBkmProxyURL}}"
  </script>

  <link rel="stylesheet" type="text/css" href="/css/main.css">
  <link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css">

  <script type="text/javascript" src="/js/main.js"> </script>

</head>

<body>

<div id="container">

<div id="action-box">

    <div id="add-folder-box">

        add folder: <input type="text" id="add-folder" />
        <button id="add-folder-button" onclick="addFolder();">ok</button>

    </div>

    <div id="rename-box" title="drag and drop a folder/bookmark to rename here" class="fa fa-pencil-square-o"
        ondragover="overRename(event)"
        ondragleave="leaveRename(event)"
        ondrop="dropRename(event)">
    </div>

    <div id="delete-box" title="drag and drop a folder/bookmark to delete here" class="fa fa-trash-o"
        ondragover="overDelete(event)"
        ondragleave="leaveDelete(event)"
        ondrop="dropDelete(event)">
    </div>

    <div id="rename-input-box" style="display: none">

        new name:
        <input id="rename-input-box-form" type="text" />
        <input id="rename-hidden-input-box-form" type="hidden" name="folderId" />
        
        <button onclick="renameFolder();">ok</button>

    </div>

    <div id="import-export-box">

        <span title="export in HTML" onclick="openInParent('/export/');">export</span>
        &nbsp;|&nbsp;
        <span title="import from HTML" onclick="toogleDisplayImport();">import</span>

    </div>

        <div id="import-input-box" style="display:none">
            <form id="import-file-form" action="/import/" method="post" enctype="multipart/form-data">
                <input type="file" name="importFile" id="import-file" accept=".html">
                <input type="submit" value="import" name="submit" id="import-button">
            </form>
        </div>

</div>

<div id="starred-list">
    
    <ul id="starred">
        {{with .Bkms}}

        {{range .}}
        <li>
           <div id="bookmark-starred-{{.Id}}" class="bookmark">

                <div class="fa fa-star"
                     onclick="starBookmark('{{.Id}}');"
                     id="bookmark-starred-star-{{.Id}}">
                </div>
                <img src="{{.Favicon}}" alt="" class="favicon">
                <div onclick="openInParent('{{.URL}}');" 
                     id="bookmark-starred-link-{{.Id}}" 
                     title="{{.Title}}">{{.Title}}
                </div>

            </div>
        </li>
    {{end}}

    {{end}}

    </ul>
</div>

<div id="folder-list">
    <ul id="root">
        <li>
               <div id="folder-1"
                     class="folder fa fa-folder-o"
                     draggable="false"
                     onclick="getChildrenFolders(event, 1)"
                     ondragover="overFolder(event)"
                     ondragleave="leaveFolder(event)"
                     ondragstart="dragFolder(event)"
                     ondrop="dropFolder(event)">
                     /
                </div>
                <ul id="subfolders-1"></ul>
        </li>

    </ul>

</div>

<div id="bookmarklet">
    <a title="Drag and drop this bookmarklet in your bookmark bar." href="javascript:window.open('{{.GoBkmProxyURL}}?target=_blank','sbPopWin','directories=no,width=200,height=600,left=0,top=0,scrollbars=yes,location=no,menubar=no, status=no, toolbar=no');void(0)">GoBkm</a>
</div>

<div id="copyright">
    GoBkm - Copyright (C) 2006-2016 Thomas Bellembois.<br/>
    Licensed under the GNU GPL, Version 3.0.
</div>

</div>

</body>

</html>
